<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="/webjars/js-cookie/js.cookie.js"></script>
</head>
<body>

<div>Collegati con github: <a href="/oauth2/authorization/github">clicca qui</a></div>

<div>Collegati con Google <a href="/oauth2/authorization/google">clicca qui</a></div>

<div id="loginContainer">Info utente: <span id="login"></span></div>

<div><button onClick="logout()">Logout</button></div>

<script type="text/javascript">
    $.ajaxSetup({
        beforeSend: function(xhr, settings) {
            // in caso di richieste POST PUT DELETE
            if (settings.type === 'POST' ||
            settings.type === 'PUT' ||
            settings.type === 'DELETE') {
                // controllare eventualmente per domini differenti (e non inviare)
                xhr.setRequestHeader("X-XSRF-TOKEN", Cookies.get("XSRF-TOKEN"));
            }
        }
    });
    var logout = function() {
        $.post("/logout", function() {
           // implementare comportamento in pagina
            $("#loginContainer").html("");
        });
    }
    $.get("/social/user", function(data) {
        $("#login").html(data);
    })
</script>
</body>
</html>